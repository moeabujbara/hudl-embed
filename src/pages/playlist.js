import React, { useEffect, useState } from "react";
import { showPlaylist } from "../api/hudl";
import "./playlist.css";
import logo from "../assets/logo.svg";
import Media from "./media.js";
import { useParams } from "react-router-dom";

export default function Playlist() {
  let [playlist, setPlaylist] = useState(null);
  let [error, setError] = useState(null);
  let { playlist_id } = useParams();

  const fetchPlayistDetails = async () => {
    try {
      let response = await showPlaylist(playlist_id);
      setPlaylist(response.data.playlist);
    } catch (error) {
      setError(error.message);
    }
  };

  useEffect(() => {
    fetchPlayistDetails();
  }, []);

  if (error === null && playlist === null) {
    return <h3>loading...</h3>;
  } else {
    return playlist !== null ? (
      <div
        id="playlist"
        style={{ backgroundImage: `url("${playlist.user.cover_image.url}")` }}
      >
        <center>
          {" "}
          <img id="logo" src={logo} alt="logo-image"></img>
        </center>
        <h2 id="text">item Amazing Playlist</h2>
        <h5 id="text1">Created by {playlist.user.username}</h5>
<<<<<<< Updated upstream
        <img id="profile" src={playlist.user.profile_picture.url} alt="profile-picture" />
        
=======
        <img
          id="profile"
          src={playlist.user.profile_picture.url}
          alt="profile-picture"
        />
        <Media playlistId={playlist.id} />
        <div id="Footer">
          <svg
            width="143"
            height="12"
            viewBox="0 0 143 12"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0.0983906 4.056V5.624H0.994391V11H2.78639V5.624H4.35439V4.056H2.78639C2.78639 3.048 2.78639 2.39 4.35439 2.712V1.144C4.01839 1.004 3.76639 0.92 3.23439 0.92C1.38639 0.92 1.00839 2.488 0.994391 4.056H0.0983906ZM8.71627 3.832C6.67227 3.832 5.02027 5.484 5.02027 7.528C5.02027 9.572 6.67227 11.224 8.71627 11.224C10.7603 11.224 12.4123 9.572 12.4123 7.528C12.4123 5.484 10.7603 3.832 8.71627 3.832ZM8.71627 9.432C7.66627 9.432 6.81227 8.578 6.81227 7.528C6.81227 6.478 7.66627 5.624 8.71627 5.624C9.76627 5.624 10.6203 6.478 10.6203 7.528C10.6203 8.578 9.76627 9.432 8.71627 9.432ZM13.5347 1.144V11H15.3267V1.144H13.5347ZM17.0073 1.144V11H18.7993V1.144H17.0073ZM23.6186 3.832C21.5746 3.832 19.9226 5.484 19.9226 7.528C19.9226 9.572 21.5746 11.224 23.6186 11.224C25.6626 11.224 27.3146 9.572 27.3146 7.528C27.3146 5.484 25.6626 3.832 23.6186 3.832ZM23.6186 9.432C22.5686 9.432 21.7146 8.578 21.7146 7.528C21.7146 6.478 22.5686 5.624 23.6186 5.624C24.6686 5.624 25.5226 6.478 25.5226 7.528C25.5226 8.578 24.6686 9.432 23.6186 9.432ZM36.165 4.056L34.933 8.536L33.589 4.056H32.245L30.901 8.536L29.669 4.056H27.653L30.005 11H31.629L32.917 7.192L34.205 11H35.829L38.181 4.056H36.165ZM49.2591 1.592V5.4H45.2271V1.592H43.4351V11H45.2271V7.192H49.2591V11H51.0511V1.592H49.2591ZM58.4413 1.592V7.192C58.4413 8.536 57.5453 9.432 56.4253 9.432C55.3053 9.432 54.4093 8.536 54.4093 7.192V1.592H52.6173V6.968C52.6173 9.446 53.9613 11.224 56.4253 11.224C58.8333 11.224 60.2333 9.446 60.2333 6.968V1.592H58.4413ZM64.9184 1.592H61.7964V11H64.9184C68.0684 11 69.8604 8.9 69.8604 6.296C69.8604 3.692 68.1524 1.592 64.9184 1.592ZM65.2404 9.208H63.5884V3.384H65.2404C66.9204 3.384 68.0684 4.686 68.0684 6.296C68.0684 7.906 66.9204 9.208 65.2404 9.208ZM72.8853 9.208V1.592H71.0933V11H76.6933V9.208H72.8853ZM91.6985 1.592H89.9065L87.4425 7.64L84.9785 1.592H83.1865L81.8425 11H83.7465L84.5305 4.84L86.9945 11H87.8905L90.3545 4.84L91.1385 11H93.0425L91.6985 1.592ZM96.7701 11.224C97.8201 11.224 98.3941 10.888 98.8701 10.328V11H100.662V4.056H98.8701V7.64C98.8701 8.9 98.1141 9.432 97.3021 9.432C96.3781 9.432 95.9581 8.942 95.9581 7.864V4.056H94.1661V8.088C94.1661 10.188 95.1741 11.224 96.7701 11.224ZM105.385 6.576C104.643 6.45 103.915 6.38 103.915 5.96C103.915 5.666 104.433 5.526 105.161 5.54C106.085 5.554 107.009 5.876 107.359 6.128L107.863 4.504C106.855 3.986 105.847 3.832 105.161 3.832C103.341 3.832 102.123 4.84 102.123 5.96C102.123 7.094 102.557 7.92 105.147 8.34C106.071 8.494 106.379 8.606 106.379 8.914C106.379 9.348 105.777 9.53 104.951 9.516C104.111 9.502 103.089 9.096 102.487 8.536L101.899 10.216C102.249 10.524 103.467 11.224 105.119 11.224C107.051 11.224 108.171 10.174 108.171 8.76C108.171 7.878 107.737 6.954 105.385 6.576ZM110.298 3.16C110.984 3.16 111.53 2.614 111.53 1.928C111.53 1.242 110.984 0.695999 110.298 0.695999C109.612 0.695999 109.066 1.242 109.066 1.928C109.066 2.614 109.612 3.16 110.298 3.16ZM109.402 11H111.194V4.056H109.402V11ZM116.237 9.432C114.907 9.432 114.109 8.578 114.109 7.528C114.109 6.478 114.921 5.624 116.237 5.624C116.867 5.624 117.455 5.876 117.847 6.268L118.589 4.658C117.945 4.084 117.063 3.832 116.181 3.832C113.773 3.832 112.317 5.484 112.317 7.528C112.317 9.572 113.745 11.224 116.181 11.224C117.063 11.224 118.029 10.944 118.589 10.398L117.847 8.802C117.455 9.194 116.867 9.432 116.237 9.432ZM127.429 3.832C125.385 3.832 123.733 5.484 123.733 7.528C123.733 9.572 125.385 11.224 127.429 11.224C129.473 11.224 131.125 9.572 131.125 7.528C131.125 5.484 129.473 3.832 127.429 3.832ZM127.429 9.432C126.379 9.432 125.525 8.578 125.525 7.528C125.525 6.478 126.379 5.624 127.429 5.624C128.479 5.624 129.333 6.478 129.333 7.528C129.333 8.578 128.479 9.432 127.429 9.432ZM136.14 3.832C135.09 3.832 134.516 4.168 134.04 4.728V4.056H132.248V11H134.04V7.416C134.04 6.156 134.796 5.624 135.608 5.624C136.532 5.624 136.952 6.114 136.952 7.192V11H138.744V6.968C138.744 4.868 137.736 3.832 136.14 3.832ZM141.21 6.072C141.84 6.072 142.33 5.582 142.33 4.952C142.33 4.322 141.84 3.832 141.21 3.832C140.58 3.832 140.09 4.322 140.09 4.952C140.09 5.582 140.58 6.072 141.21 6.072ZM141.21 11.224C141.84 11.224 142.33 10.734 142.33 10.104C142.33 9.474 141.84 8.984 141.21 8.984C140.58 8.984 140.09 9.474 140.09 10.104C140.09 10.734 140.58 11.224 141.21 11.224Z"
              fill="white"
            />
          </svg>

          <svg
            width="160"
            height="25"
            viewBox="0 0 160 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M102.452 24.9999L102.463 25H102.46L102.452 24.9999ZM102.54 25H102.537L102.548 24.9999L102.54 25ZM102.414 24.9997L102.426 24.9998H102.419L102.414 24.9997ZM102.581 24.9998H102.574L102.586 24.9997L102.581 24.9998ZM102.377 24.9994L102.385 24.9995L102.379 24.9994H102.377ZM102.621 24.9994L102.615 24.9995L102.623 24.9994H102.621ZM102.661 24.999L102.659 24.999L102.67 24.9989L102.661 24.999ZM102.33 24.9989L102.341 24.999L102.339 24.999L102.33 24.9989ZM102.702 24.9984L102.695 24.9985L102.709 24.9983L102.702 24.9984ZM102.291 24.9983L102.305 24.9985L102.298 24.9984L102.291 24.9983ZM102.742 24.9977L102.733 24.9979L102.746 24.9976L102.742 24.9977ZM102.254 24.9976L102.267 24.9979L102.258 24.9977L102.254 24.9976ZM102.209 24.9967L102.22 24.9969L102.218 24.9969L102.209 24.9967ZM102.782 24.9969L102.78 24.9969L102.791 24.9967L102.782 24.9969ZM102.169 24.9957L102.184 24.996L102.178 24.9959L102.169 24.9957ZM102.822 24.9959L102.816 24.996L102.831 24.9957L102.822 24.9959ZM102.863 24.9948L102.853 24.9951L102.868 24.9947L102.863 24.9948ZM102.132 24.9947L102.147 24.9951L102.137 24.9948L102.132 24.9947ZM102.097 24.9936L102.108 24.9939L102.097 24.9936L102.088 24.9933L102.097 24.9936ZM102.903 24.9936L102.892 24.9939L102.903 24.9936L102.912 24.9933L102.903 24.9936ZM102.943 24.9923L102.937 24.9925L102.954 24.9919L102.943 24.9923ZM102.046 24.9919L102.063 24.9925L102.057 24.9923L102.046 24.9919ZM102.009 24.9905L102.027 24.9912L102.017 24.9908L102.009 24.9905ZM102.983 24.9908L102.973 24.9912L102.991 24.9905L102.983 24.9908ZM101.973 24.9891L101.991 24.9898L101.977 24.9893L101.973 24.9891ZM103.023 24.9893L103.009 24.9898L103.027 24.9891L103.023 24.9893ZM101.923 24.9869L101.942 24.9877L101.937 24.9875L101.923 24.9869ZM103.063 24.9875L103.058 24.9877L103.077 24.9869L103.063 24.9875ZM101.887 24.9852L101.906 24.9861L101.897 24.9857L101.887 24.9852ZM103.103 24.9857L103.094 24.9861L103.113 24.9852L103.103 24.9857ZM101.851 24.9834L101.871 24.9844L101.857 24.9837L101.851 24.9834ZM103.143 24.9837L103.129 24.9844L103.149 24.9834L103.143 24.9837ZM103.183 24.9816L103.165 24.9826L103.181 24.9817L103.199 24.9807L103.183 24.9816ZM101.819 24.9817L101.835 24.9826L101.817 24.9816L101.801 24.9807L101.819 24.9817ZM103.223 24.9794L103.215 24.9798L103.235 24.9787L103.223 24.9794ZM101.765 24.9787L101.785 24.9798L101.777 24.9794L101.765 24.9787ZM101.73 24.9766L101.75 24.9778L101.738 24.9771L101.73 24.9766ZM103.262 24.9771L103.25 24.9778L103.27 24.9766L103.262 24.9771ZM101.696 24.9745L101.714 24.9756L101.698 24.9746L101.681 24.9735L101.696 24.9745ZM103.302 24.9746L103.286 24.9756L103.304 24.9745L103.319 24.9735L103.302 24.9746ZM103.342 24.972L103.336 24.9724L103.355 24.9711L103.342 24.972ZM101.645 24.9711L101.664 24.9724L101.658 24.972L101.645 24.9711ZM101.61 24.9687L101.628 24.97L101.618 24.9693L101.61 24.9687ZM103.382 24.9693L103.372 24.97L103.39 24.9687L103.382 24.9693ZM101.575 24.9662L101.592 24.9674L101.579 24.9665L101.575 24.9662ZM103.421 24.9665L103.408 24.9674L103.425 24.9662L103.421 24.9665ZM101.527 24.9626L101.542 24.9638L101.539 24.9635L101.527 24.9626ZM103.461 24.9635L103.458 24.9638L103.473 24.9626L103.461 24.9635ZM103.501 24.9604L103.494 24.961L103.509 24.9598L103.501 24.9604ZM101.491 24.9598L101.506 24.961L101.499 24.9604L101.491 24.9598ZM101.456 24.9569L101.469 24.958L101.46 24.9572L101.456 24.9569ZM103.54 24.9572L103.531 24.958L103.544 24.9569L103.54 24.9572ZM101.417 24.9536L101.421 24.954L101.42 24.9539L101.417 24.9536ZM103.58 24.9539L103.579 24.954L103.583 24.9536L103.58 24.9539ZM103.62 24.9504L103.616 24.9507L103.625 24.95L103.62 24.9504ZM101.375 24.95L101.384 24.9507L101.38 24.9504L101.375 24.95ZM101.339 24.9466L101.345 24.9473L101.341 24.9469L101.339 24.9466ZM103.659 24.9469L103.655 24.9473L103.661 24.9466L103.659 24.9469ZM100.547 24.848C94.5743 23.9092 90 18.7346 90 12.5C90 5.60107 95.6011 0 102.5 0C109.399 0 115 5.60107 115 12.5C115 18.7346 110.426 23.9092 104.453 24.848V16.1133H107.366L107.92 12.5H104.453V10.1552C104.453 9.1667 104.937 8.20312 106.49 8.20312H108.066V5.12695C108.066 5.12695 106.636 4.88281 105.268 4.88281C102.413 4.88281 100.547 6.61328 100.547 9.74609V12.5H97.373V16.1133H100.547V24.848Z"
              fill="white"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M12.5 0C19.3989 0 25 5.60107 25 12.5C25 19.3989 19.3989 25 12.5 25C5.60107 25 0 19.3989 0 12.5C0 5.60107 5.60107 0 12.5 0ZM10.2983 19.1483C15.8297 19.1483 18.8542 14.5648 18.8542 10.5925C18.8542 10.4616 18.8542 10.3306 18.8479 10.2059C19.4341 9.78184 19.9455 9.25176 20.3508 8.64687C19.8145 8.88384 19.2345 9.046 18.6234 9.1208C19.247 8.74663 19.7209 8.16045 19.9455 7.45581C19.3655 7.79878 18.7232 8.04819 18.0372 8.1854C17.4884 7.59922 16.7089 7.23755 15.8421 7.23755C14.1833 7.23755 12.8364 8.58452 12.8364 10.2433C12.8364 10.4803 12.8613 10.711 12.9174 10.9292C10.4168 10.8045 8.20298 9.60723 6.71885 7.78628C6.46314 8.22905 6.31348 8.74663 6.31348 9.29541C6.31348 10.3368 6.84355 11.2598 7.65425 11.796C7.16157 11.7836 6.7001 11.6464 6.29478 11.4219V11.4593C6.29478 12.9186 7.32993 14.1283 8.70811 14.409C8.45869 14.4775 8.19053 14.515 7.91616 14.515C7.7228 14.515 7.53574 14.4963 7.34868 14.4588C7.72905 15.6562 8.83906 16.523 10.1549 16.5479C9.12593 17.3524 7.82886 17.8326 6.41948 17.8326C6.17627 17.8326 5.93931 17.8201 5.70234 17.7889C7.01816 18.6495 8.6021 19.1483 10.2983 19.1483Z"
              fill="white"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M147.5 0C154.399 0 160 5.60107 160 12.5C160 19.3989 154.399 25 147.5 25C140.601 25 135 19.3989 135 12.5C135 5.60107 140.601 0 147.5 0ZM154.986 8.73916C154.806 8.06685 154.277 7.5375 153.605 7.35781C152.386 7.03125 147.5 7.03125 147.5 7.03125C147.5 7.03125 142.614 7.03125 141.395 7.35781C140.723 7.5375 140.194 8.06685 140.014 8.73916C139.688 9.95767 139.688 12.5001 139.688 12.5001C139.688 12.5001 139.688 15.0424 140.014 16.2608C140.194 16.9332 140.723 17.4627 141.395 17.6423C142.614 17.9688 147.5 17.9688 147.5 17.9688C147.5 17.9688 152.386 17.9688 153.605 17.6423C154.277 17.4627 154.806 16.9332 154.986 16.2608C155.312 15.0424 155.312 12.5001 155.312 12.5001C155.312 12.5001 155.312 9.95767 154.986 8.73916ZM145.937 14.8439V10.1563L149.997 12.5001L145.937 14.8439Z"
              fill="white"
            />
            <path
              d="M58.9803 11.0208C59.8535 11.8939 59.8535 13.3095 58.9803 14.1826C58.1072 15.0557 56.6916 15.0557 55.8185 14.1826C54.9454 13.3095 54.9454 11.8939 55.8185 11.0208C56.6916 10.1477 58.1072 10.1477 58.9803 11.0208Z"
              fill="white"
            />
            <path
              d="M60.194 7.1134H54.6047C53.7917 7.1134 53.0803 7.36746 52.623 7.82478C52.1657 8.28209 51.9116 8.99346 51.9116 9.80645V15.3958C51.9116 16.2088 52.1657 16.9202 52.6738 17.4283C53.1819 17.8856 53.8425 18.1397 54.6555 18.1397H60.194C61.007 18.1397 61.7184 17.8856 62.1757 17.4283C62.6838 16.971 62.9379 16.2596 62.9379 15.4466V9.85727C62.9379 9.04427 62.6838 8.38371 62.2265 7.87559C61.7184 7.36746 61.0578 7.1134 60.194 7.1134ZM57.3994 16.0564C55.4685 16.0564 53.9441 14.4812 53.9441 12.6011C53.9441 10.6703 55.5193 9.14589 57.3994 9.14589C59.2794 9.14589 60.9054 10.6703 60.9054 12.6011C60.9054 14.532 59.3302 16.0564 57.3994 16.0564ZM61.007 9.80645C60.5497 9.80645 60.194 9.45077 60.194 8.99346C60.194 8.53615 60.5497 8.18046 61.007 8.18046C61.4643 8.18046 61.82 8.53615 61.82 8.99346C61.82 9.45077 61.4643 9.80645 61.007 9.80645Z"
              fill="white"
            />
            <path
              d="M57.4998 0C50.5894 0 45 5.58935 45 12.4998C45 19.4103 50.5894 24.9997 57.4998 24.9997C64.4103 24.9997 69.9997 19.4103 69.9997 12.4998C70.0505 5.58935 64.4103 0 57.4998 0ZM64.1562 15.4469C64.1562 16.6156 63.7497 17.6319 63.0384 18.3432C62.327 19.0546 61.3108 19.4103 60.1929 19.4103H54.6543C53.5365 19.4103 52.5202 19.0546 51.8089 18.3432C51.0467 17.6319 50.691 16.6156 50.691 15.4469V9.85759C50.691 7.52022 52.2662 5.89423 54.6543 5.89423H60.2437C61.4124 5.89423 62.3778 6.30073 63.0892 7.0121C63.8006 7.72347 64.1562 8.68891 64.1562 9.85759V15.4469Z"
              fill="white"
            />
          </svg>
        </div>
>>>>>>> Stashed changes
      </div>
    ) : (
      <h3>please try agian later</h3>
    );
  }
}
